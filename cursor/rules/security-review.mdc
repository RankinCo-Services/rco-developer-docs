---
description: On every code change, run the security-compliance subagent before commit; only recommend commit if compliance passes or is explicitly approved.
alwaysApply: true
---

# Security review on every code change

- **Automatic review:** For every code change (before recommending or proceeding with commit), the agent **must** run a security compliance review. There are no exceptions—every change set that is about to be committed must be reviewed by the security-compliance subagent.
- Launch the **security-compliance** subagent with the current diff (staged or unstaged) and any relevant context.
- Only recommend committing if the subagent’s report is **PASS**, or the user has explicitly approved documented exceptions.
- If the report is **FAIL**, list the findings and suggest fixes; do not recommend commit until issues are fixed or the user approves an exception.
- This rule is always applied so that the subagent is invoked automatically as part of the commit workflow for every change.
